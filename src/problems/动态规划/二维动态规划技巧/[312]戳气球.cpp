//æœ‰ n ä¸ªæ°”çƒï¼Œç¼–å·ä¸º0 åˆ° n - 1ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„ nums
//ä¸­ã€‚
//
// ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚æˆ³ç ´ç¬¬ i ä¸ªæ°”çƒï¼Œä½ å¯ä»¥è·å¾— nums[i - 1] * nums[i] *
// nums[i + 1] æšç¡¬å¸ã€‚ è¿™é‡Œçš„ i - 1 å’Œ i + 1 ä»£è¡¨å’Œ i
// ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚å¦‚æœ i - 1æˆ– i + 1
// è¶…å‡ºäº†æ•°ç»„çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå°±å½“å®ƒæ˜¯ä¸€ä¸ªæ•°å­—ä¸º 1 çš„æ°”çƒã€‚
//
// æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚
//
//
//ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šnums = [3,1,5,8]
//è¾“å‡ºï¼š167
//è§£é‡Šï¼š
// nums = [3,1,5,8] --> [3,5,8] --> [3,8] --> [8] --> []
// coins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šnums = [1,5]
//è¾“å‡ºï¼š10
//
//
//
//
// æç¤ºï¼š
//
//
// n == nums.length
// 1 <= n <= 500
// 0 <= nums[i] <= 100
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’
// ğŸ‘ 753 ğŸ‘ 0

// leetcode submit region begin(Prohibit modification and deletion)
/// åŠ¨æ€è§„åˆ’
// Time: O(N^3)
class Solution {
 public:
  int maxCoins(vector<int>& nums) {
    int n = nums.size();
    // å¤åˆ¶numsï¼Œå¢åŠ  ä¸¤ä¸ªè¾¹ç•Œ val[0] å’Œ val[n+1] = 1
    vector<int> val(n + 2);
    val[0] = val[n + 1] = 1;
    for (int i = 1; i <= n; i++) {
      val[i] = nums[i - 1];
    }
    // å®šä¹‰ rec[i][j] ä¸º å¼€åŒºé—´ (i,j) å¯ä»¥è·å¾—çš„æœ€å¤šç¡¬å¸ï¼›
    // æœ€ç»ˆåº”è¯¥è¿”å› rec[0][n+1]
    vector<vector<int>> rec(n + 2, vector<int>(n + 2));
    // å·¦åŒºé—´æšä¸¾ [n-1...0]
    // ä»ä¸‹å¾€ä¸Šéå†ï¼Œiæ§åˆ¶å·¦è¾¹ç•Œï¼Œjæ§åˆ¶å³è¾¹ç•Œ
    for (int i = n - 1; i >= 0; i--) {
      // å³åŒºé—´æšä¸¾ [i+2...n+1]ï¼Œæ¯” å·¦åŒºé—´è‡³å°‘å¤§2ï¼Œè¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªæ•°
      for (int j = i + 2; j <= n + 1; j++) {
        for (int k = i + 1; k < j; k++) {
          // kåœ¨(i,j)èŒƒå›´å†…éå†æ°”çƒï¼Œè®¡ç®—æ¯é€‰æ‹©ä¸€ä¸ªæ°”çƒçš„ç§¯åˆ†
          //ä¸€è½®éå†å®Œåï¼Œå°±èƒ½ç¡®å®š(i,j)çš„æœ€å¤§ç§¯åˆ†
          int sum = val[i] * val[k] * val[j];
          sum += rec[i][k] + rec[k][j];
          rec[i][j] = max(rec[i][j], sum);
        }
      }
    }
    return rec[0][n + 1];
  }
};
// leetcode submit region end(Prohibit modification and deletion)
